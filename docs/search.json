[
  {
    "objectID": "my_trabajo_BigData.html",
    "href": "my_trabajo_BigData.html",
    "title": "La Champions League",
    "section": "",
    "text": "La UEFA Champions League es la competición de clubes de fútbol más prestigiosa de Europa, organizada cada año por la UEFA para determinar cuál es el mejor equipo del continente. En este torneo participan los campeones de liga y los equipos mejor clasificados de las ligas europeas más fuertes. La competición se desarrolla a lo largo de una temporada, comenzando con una fase de grupos y acabando con rondas de eliminación directa, hasta llegar a la gran final a partido único, donde el ganador levanta el codiciado trofeo de “la orejona”, consolidando su lugar en la historia del fútbol.\nA continuación, os vamos a dar un repaso de los datos más importantes de la historia de la Champions League. Dentro del trabajo hablaremos sobre las características más importantes tanto de jugadores, de equipos, de entrenadores como de estadios. Esperamos que lo disfrutéis, y que aquellos que no sepáis tanto de este tema, aprendáis un poco más."
  },
  {
    "objectID": "my_trabajo_BigData.html#introducción",
    "href": "my_trabajo_BigData.html#introducción",
    "title": "La Champions League",
    "section": "",
    "text": "La UEFA Champions League es la competición de clubes de fútbol más prestigiosa de Europa, organizada cada año por la UEFA para determinar cuál es el mejor equipo del continente. En este torneo participan los campeones de liga y los equipos mejor clasificados de las ligas europeas más fuertes. La competición se desarrolla a lo largo de una temporada, comenzando con una fase de grupos y acabando con rondas de eliminación directa, hasta llegar a la gran final a partido único, donde el ganador levanta el codiciado trofeo de “la orejona”, consolidando su lugar en la historia del fútbol.\nA continuación, os vamos a dar un repaso de los datos más importantes de la historia de la Champions League. Dentro del trabajo hablaremos sobre las características más importantes tanto de jugadores, de equipos, de entrenadores como de estadios. Esperamos que lo disfrutéis, y que aquellos que no sepáis tanto de este tema, aprendáis un poco más."
  },
  {
    "objectID": "my_trabajo_BigData.html#equipos",
    "href": "my_trabajo_BigData.html#equipos",
    "title": "La Champions League",
    "section": "1. EQUIPOS",
    "text": "1. EQUIPOS"
  },
  {
    "objectID": "my_trabajo_BigData.html#equipos-con-mas-temporadas",
    "href": "my_trabajo_BigData.html#equipos-con-mas-temporadas",
    "title": "La Champions League",
    "section": "1.1 Equipos con mas temporadas",
    "text": "1.1 Equipos con mas temporadas\nA lo largo de la historia de esta competición, más de 500 clubes han tenido el honor de participar al menos una vez. Pero si hablamos de consistencia, solo unos pocos han logrado ser habituales en la élite. Hemos analizado cuántas temporadas ha jugado cada club y, como podéis ver en el gráfico, el Real Madrid domina esta clasificación con mucha diferencia. Otros equipos como el Benfica, el Bayern de Múnich, y el Dínamo de Kiev también demuestran una increíble trayectoria en la máxima competición.\n\nCódigolibrary(tidyverse)\nlibrary(ggimage) #install.packages(ggimage)\n\n\nruta_a_datos_1 &lt;- \"./datos/probando.csv\"\n\ndf_completo &lt;- read_csv(ruta_a_datos_1) \n\ntop_15_participaciones &lt;- df_completo %&gt;%\n  select(Club, Participated) %&gt;% \n  mutate(Participated = as.numeric(Participated)) %&gt;% \n  arrange(desc(Participated)) %&gt;%\n  head(15)\n\ndf_logos &lt;- data.frame(Club = c(\n  \"Real Madrid CF\",\n  \"SL Benfica\",\n  \"FC Dynamo Kyiv\",\n  \"FC Bayern Munchen\",\n  \"AFC Ajax\",\n  \"Juventus\",\n  \"FC Porto\",\n  \"Celtic FC\",\n  \"Olympiacos FC\",\n  \"RSC Anderlecht\",\n  \"FC Barcelona\", \n  \"Rangers FC\",\n  \"Linfield FC\",\n  \"Manchester United\", \n  \"AC Milan\"\n),\nFoto = c(\n  \"Real_Madrid_CF.svg.webp\",\n  \"benfica.png\",\n  \"dynamo.png\",\n  \"bayern.png\", \n  \"ajax.png\",\n  \"juventus.png\",\n  \"oporto.png\",\n  \"celtic.png\",\n  \"olympiakos.png\",\n  \"anderlecht.png\",\n  \"barsa.png\",\n  \"rangers.png\",\n  \"Linfield.png\",\n  \"mtu.png\",\n  \"milan.png\"\n)\n) %&gt;%\n  mutate(logo = file.path(\"imagenes\", Foto))\n\n\n\ntop_15_completo &lt;- left_join(top_15_participaciones,df_logos, by = \"Club\") \n\n\n\nmi_grafico &lt;- ggplot(top_15_completo, aes(x = reorder(Club, Participated), y = Participated)) +\n  geom_col(fill = \"dodgerblue3\", width = 0.6) +\n  coord_flip() +\n geom_image(aes(image = logo, y = 0), size = 0.05) +\n  geom_text(aes(label = Participated), hjust = -0.2, fontface = \"bold\", size = 3.5) +\n   expand_limits(y = 0) + \n  labs(\n    title = \"Top 15: Equipos con más participaciones\",\n    subtitle = \"Desde 1955-2023\",\n    x = \"Equipos\", \n    y = \"Nº participaciones\") +\n  theme_minimal()+\n  theme(\n    plot.title = element_text(face = \"bold\", size = 14),\n    axis.text.y = element_blank(),\n    axis.ticks.y = element_blank(),\n    plot.margin = margin(10, 20, 10, 20))\n\nmi_grafico"
  },
  {
    "objectID": "my_trabajo_BigData.html#los-equipos-más-ganadores",
    "href": "my_trabajo_BigData.html#los-equipos-más-ganadores",
    "title": "La Champions League",
    "section": "1.2 Los equipos más ganadores",
    "text": "1.2 Los equipos más ganadores\nLa Champions es una competición que premia la consistencia. A pesar de las 72 ediciones que se han disputado, tan solo 24 equipos han conseguido levantar el trofeo, esto indica lo difícil que es ganar la ‘orejona’. En el treemap podéis ver los 10 clubes más galardonados. El tamaño de cada rectángulo es proporcional a la cantidad de títulos que tienen. De nuevo, el Real Madrid es el rey indiscutible, demostrando que no solo participa más, sino que también es el más efectivo en las finales. Le siguen de cerca el AC Milán y el FC Bayern, lo que nos da una idea de qué ligas y qué equipos han marcado las épocas doradas de la competición.\n\nCódigolibrary(treemapify)   #install.packages(\"treemapify\")\nlibrary(tidyverse)\nlibrary(janitor)\nlibrary(ggimage)\nlibrary(magick)\nlibrary(highcharter)  \n\n\nruta_a_datos_2 &lt;- \"./datos/probando.csv\"\n\ndf_completo &lt;- read_csv(ruta_a_datos_2)\n\ntop_10_titulos &lt;- df_completo %&gt;%\n  select(Club, Titles) %&gt;% \n  mutate(Titles = as.numeric(Titles)) %&gt;% \n  arrange(desc(Titles)) %&gt;%\n  head(10)\n\n\n\n\nhchart(top_10_titulos, \"treemap\", hcaes(x = Club, value =Titles, color = Titles))%&gt;%\n  hc_add_theme(hc_theme_economist()) %&gt;% \n  hc_size(height = 500)\n\n\n\n\nCódigo\n\nmadrid &lt;- image_read(\"./imagenes/madridchamp.jpg\") %&gt;% image_scale(.,\"700\")\nbarsa &lt;- image_read(\"./imagenes/barsachamp.jpg\") %&gt;% image_scale(.,\"700\")\nbayern &lt;- image_read(\"./imagenes/bayernchamp.jpg\") %&gt;% image_scale(.,\"700\")\njuve &lt;- image_read(\"./imagenes/juvechamp.jpg\") %&gt;% image_scale(.,\"700\")\nmtu &lt;- image_read(\"./imagenes/mtuchamp.webp\") %&gt;% image_scale(.,\"700\")\nbenfica &lt;- image_read(\"./imagenes/benficachamp.webp\") %&gt;% image_scale(.,\"700\")\nliverpool &lt;- image_read(\"./imagenes/liverpoolchamp.jpeg\") %&gt;% image_scale(.,\"700\")\ninter &lt;- image_read(\"./imagenes/interchamp.jpeg\") %&gt;% image_scale(.,\"700\")\najax &lt;- image_read(\"./imagenes/ajaxchamp.webp\") %&gt;% image_scale(.,\"700\")\nmilan &lt;- image_read(\"./imagenes/milanchamp.jpg\") %&gt;% image_scale(.,\"700\")\n\nequipos &lt;- c(madrid, barsa, bayern, juve, mtu, benfica, liverpool, inter, ajax, milan)\nimage_animate(image_scale(equipos), fps = 0.5)"
  },
  {
    "objectID": "my_trabajo_BigData.html#jugadores",
    "href": "my_trabajo_BigData.html#jugadores",
    "title": "La Champions League",
    "section": "2. JUGADORES",
    "text": "2. JUGADORES"
  },
  {
    "objectID": "my_trabajo_BigData.html#máximos-goleadores",
    "href": "my_trabajo_BigData.html#máximos-goleadores",
    "title": "La Champions League",
    "section": "2.1 Máximos Goleadores",
    "text": "2.1 Máximos Goleadores\nLa Champions es el escenario idóneo para que los grandes goleadores brillen. En este gráfico de dispersión, hemos analizado a los 10 máximos goleadores históricos, comparando sus goles totales con la cantidad de partidos que jugaron. Podemos ver claramente dos grandes leyendas que están muy por encima del resto: Cristiano Ronaldo y Lionel Messi. Su dominio es absoluto en términos de goles y partidos. Es interesante observar que jugadores como Robert Lewandowski y Ruud van Nistelrooy tienen un promedio de gol por partido (color más oscuro) alto, lo que nos indica la gran facilidad que tienen estos jugadores para anotar goles.\n\nCódigolibrary(tidyverse)\nlibrary(ggrepel)\n\n\nruta_a_datos_1 &lt;- \"./datos/goleadores.csv\"\n\nruta_a_datos_2 &lt;- \"./datos/participaciones.csv\"\n\n\ndf_completo_2 &lt;- read_csv(ruta_a_datos_2)\n\ndf_completo &lt;- read_csv(ruta_a_datos_1)\n\ndf_completo_3 &lt;- left_join(df_completo,df_completo_2, by = \"Player\")\n\ntop_10_goleadores &lt;- df_completo_3 %&gt;%\n  select(Goals, Player, Appearances) %&gt;% \n  mutate(Goals = as.numeric(Goals)) %&gt;% \n  mutate(Promedio = Goals / Appearances) %&gt;% \n  arrange(desc(Goals)) %&gt;%\n  head(10)\n\n\nggplot(top_10_goleadores, aes(x = Appearances, y = Goals)) +\n  geom_point(aes(color = Promedio), size = 5, alpha = 0.8) +\n  \n  geom_text_repel(aes(label = paste(Player, \"\\n(\", Goals, \" goles)\")), \n                  fontface = \"bold\", \n                  box.padding = 0.5,\n                  point.padding = 0.5,\n                  size = 3) + \n    scale_color_gradient(low = \"lightblue\", high = \"darkblue\") +\n  labs(\n    title = \"Top 10 Goleadores Históricos\",\n    subtitle = \"Goles vs Partidos Jugados\",\n    x = \"Partidos Jugados\",\n    y = \"Goles Totales\",\n    color = \"Promedio Gol/Partido\") +\n  theme_minimal() +\n  theme(\n    plot.title = element_text(face = \"bold\", size = 16),\n    legend.position = \"bottom\" )"
  },
  {
    "objectID": "my_trabajo_BigData.html#mejores-jugadores-en-finales",
    "href": "my_trabajo_BigData.html#mejores-jugadores-en-finales",
    "title": "La Champions League",
    "section": "2.2 Mejores Jugadores en finales",
    "text": "2.2 Mejores Jugadores en finales\nSi ya es difícil jugar una final de champions, ser MVP en una final solo está al alcance de muy pocos jugadores en el mundo. Este once representa una selección de jugadores que han sido reconocidos como los ‘Mejores Jugadores del Partido’ en las finales que han ganado. Los hemos colocado en un esquema 4-3-3 y, junto a sus fotos, hemos indicado cuántos premios MVP de la final tienen.\n\nCódigo#install.packages(\"ggsoccer\")\nlibrary(tidyverse)\nlibrary(ggimage)\nlibrary(ggsoccer)\n\n\nmvps &lt;- \"./datos/entrenadores_mvps.csv\"\n\ndf_completo &lt;- read_csv(mvps)\n\n\ntop_11 &lt;- df_completo %&gt;%\n  select(club, mvp, position) %&gt;% \n  filter(position == \"winner\") %&gt;% \n  count(mvp, sort = TRUE, name = \"titulos\")\n\n\n\n  once_final &lt;- c(\n    \"Thibaut Courtois\",\n    \"Paolo Maldini\",\n    \"Frank Rijkaard\",\n    \"Virgil van Dijk\",\n    \"Sergio Ramos\",\n    \"Xavi\",\n    \"Franz Roth\",\n    \"Johan Cruyff\",\n    \"Paco Gento\",\n    \"Alfredo Di Stefano\",\n    \"Lionel Messi\")\n\n\n  coordenadas_433 &lt;- data.frame(\n    orden_posiciones = 1:11,\n    posiciones = c(\"GK\", \"LB\", \"CB\", \"CB\", \"RB\", \"LCM\", \n                   \"CM\", \"RCM\", \"LW\", \"ST\", \"RW\"),\n    \n    x = c(5,  25, 20, 20, 25,  50, 45, 50,  75, 88, 75), \n  \n    y = c(50, 15, 35, 65, 85,  25, 50, 75,  20, 50, 80))\n  \n  \n  equipo_mvp &lt;- data.frame(\n    mvp = once_final,\n    orden_posiciones = 1:11\n  ) %&gt;%\n    left_join(coordenadas_433, by = \"orden_posiciones\")\n  \n\n  conteo_mvps &lt;- df_completo %&gt;%\n    filter(position == \"winner\") %&gt;% \n    count(mvp, name = \"titulos\")\n  \n  datos_grafico &lt;- equipo_mvp %&gt;%\n    left_join(conteo_mvps, by = \"mvp\") %&gt;% \n    mutate(nombres_jugadores = case_when(\n      mvp == \"Thibaut Courtois\"   ~ \"curtu.jpg\",       \n      mvp == \"Paolo Maldini\"      ~ \"maldini.jpg\",   \n      mvp == \"Frank Rijkaard\"     ~ \"rijkaard.jpg\",\n      mvp == \"Virgil van Dijk\"    ~ \"van dijk.webp\",\n      mvp == \"Sergio Ramos\"       ~ \"ramos.webp\",\n      mvp == \"Xavi\"               ~ \"xavi.jpg\",\n      mvp == \"Franz Roth\"         ~ \"roth.webp\",\n      mvp == \"Johan Cruyff\"       ~ \"cruyff.jpg\",\n      mvp == \"Paco Gento\"         ~ \"gento.jpg\",\n      mvp == \"Alfredo Di Stefano\" ~ \"di stefano.jpg\",\n      mvp == \"Lionel Messi\"       ~ \"messi.jpg\")) %&gt;% \n    mutate(ruta_imagen = paste0(\"./imagenes/\", nombres_jugadores))\n  \n  \n  ggplot(datos_grafico) +\n    annotate_pitch(\n      dimensions = pitch_statsperform, \n      fill = \"green\", \n      colour = \"white\"\n    ) +\n    theme_pitch() +\n    coord_flip() + \n    geom_image(aes(x = x, y = y, image = ruta_imagen), size = 0.08) +\n    \n    \n    geom_label(\n      aes(x = x, y = y, label = paste(mvp, \"\\n\", titulos, \"\")), \n      vjust = 1.5, \n      size = 3, \n      fontface = \"bold\",\n      alpha = 0.9) +\n    labs(title = \"11 MVP's de finales de Champions League\")"
  },
  {
    "objectID": "my_trabajo_BigData.html#entrenadores",
    "href": "my_trabajo_BigData.html#entrenadores",
    "title": "La Champions League",
    "section": "3. ENTRENADORES",
    "text": "3. ENTRENADORES\nEn el éxito de un club no solo influyen los jugadores, sino también la figura del entrenador. En este apartado, hemos analizado a los técnicos que han llegado a la final de la Champions League a lo largo de su historia. La tabla que veis a continuación clasifica a los entrenadores por el número total de finales disputadas y las victorias conseguidas.\nLa tabla nos permite observar quiénes son los mejores entrenadores de la historia de Europa. Podemos identificar a entrenadores con un número alto de victorias, como Carlo Ancelotti , Robert Paisley o Zinedine Zidane, que no solo llegaron a la final, sino que demostraron una gran efectividad para alzarse con el trofeo. La tabla también nos permite ver a aquellos que, a pesar de haber jugado varias finales, no han podido alzarse con el titulo o con los titulos que les hubiera gustado.\n\nCódigolibrary(tidyverse)\nlibrary(gt)\n\nucl_finals &lt;- \"./datos/ucl-soccer-1955-2019.csv\"\n\nucl_finals &lt;- read_csv(ucl_finals)\n\ntabla_entrenadores &lt;- ucl_finals %&gt;%\n  group_by(coach) %&gt;%\n  summarise(\n    Finales = n(),\n    Victorias = sum(position == \"winner\"), \n    Derrotas = sum(position == \"runner up\"))%&gt;%\n  ungroup() %&gt;%\n  arrange(desc(Finales), desc(Victorias)) %&gt;%\n  filter(coach != \"unknown\")\n\n\n\ntabla_final&lt;- tabla_entrenadores %&gt;%\n  gt() %&gt;%\n  opt_interactive(use_search = TRUE,\n                  use_filters = TRUE,\n                  use_resizers = FALSE,\n                  use_compact_mode = FALSE,\n                  use_page_size_select = FALSE) %&gt;%\n  tab_header(\n    title = md(\"Entrenadores finalistas de champions\"),\n    subtitle = md(\"Análisis de los entrenadores finalistas (1955/56 - 2023/2024\")) %&gt;%\n  opt_align_table_header(align = \"left\") %&gt;%\n  cols_label(\n    coach = md(\"**Entrenador**\"),\n    Finales = md(\"**Total Finales**\"),\n    Victorias = md(\"**Victorias**\"),\n    Derrotas = md(\"**Derrotas**\")) %&gt;%\n  cols_align(\n    align = \"center\",\n    columns = c(Finales, Victorias, Derrotas)) %&gt;%\n  fmt_number(\n    columns = c(Finales, Victorias, Derrotas),\n    decimals = 0) %&gt;%\n  tab_style(\n    style = cell_fill(color = \"indianred\"), \n    locations = cells_body(\n      columns = Derrotas, \n      rows = Derrotas &gt; 0)) %&gt;%\n  tab_style(\n    style = cell_fill(color = \"lightblue\"),\n    locations = cells_body(\n      columns = Victorias,\n      rows = Victorias &gt; 0)) %&gt;%\n  opt_row_striping() %&gt;%\n  tab_options(\n    heading.background.color = \"blue\",\n    column_labels.border.bottom.color = \"black\", \n    table_body.border.bottom.color = \"black\",\n    table_body.hlines.color = \"white\"\n  ) %&gt;%\n  tab_source_note(md(\"Fuente: Datos obtenidos de **Kaggle** ( https://www.kaggle.com )\")) %&gt;% \n  tab_source_note(md(\"El color de las celdas indican las Victorias (azul) o las Derrotas (rojo).\")) \n\n\n\ntabla_final\n\n\n\n\nEntrenadores finalistas de champions\nAnálisis de los entrenadores finalistas (1955/56 - 2023/2024\n\n\n\n\n\nFuente: Datos obtenidos de Kaggle ( https://www.kaggle.com )\nEl color de las celdas indican las Victorias (azul) o las Derrotas (rojo)."
  },
  {
    "objectID": "my_trabajo_BigData.html#paises",
    "href": "my_trabajo_BigData.html#paises",
    "title": "La Champions League",
    "section": "4. PAISES",
    "text": "4. PAISES"
  },
  {
    "objectID": "my_trabajo_BigData.html#paises-ganadores",
    "href": "my_trabajo_BigData.html#paises-ganadores",
    "title": "La Champions League",
    "section": "4.1 Paises ganadores",
    "text": "4.1 Paises ganadores\nLos títulos no solo son una victoria para un club, sino también para el país que representan. En este gráfico de diagrama, mostramos qué países tienen los clubes qué más veces han ganado la Champions League. Como se puede ver, el dominio se concentra en cinco grandes países donde Italia, Alemania, y especialmente España con el Real Madrid y el Barcelona, acaparan la mayor parte de los títulos.\n\nCódigolibrary(tidyverse)\nlibrary(highcharter)  #install.packages(\"highcharter\")\n\nucl_finals &lt;- \"./datos/ucl-finals.csv\"\n\ndf &lt;- read_csv(ucl_finals)\n  \n\ntop_5_paises &lt;- df %&gt;%\n  rename(Paises = `winner-country` ) %&gt;% \n  mutate(Paises = str_replace(Paises,\n                                      \"West Germany\", \"Germany\")) %&gt;%\n  count(Paises) %&gt;%\n  arrange(desc(n)) %&gt;%\n  head(5)\n\n\nhchart(top_5_paises, \"pie\", hcaes(x = Paises, y = n)) %&gt;%\n  hc_add_theme(hc_theme_economist()) %&gt;% \n  hc_size(height = 500)"
  },
  {
    "objectID": "my_trabajo_BigData.html#paises-con-sede",
    "href": "my_trabajo_BigData.html#paises-con-sede",
    "title": "La Champions League",
    "section": "4.2 Paises con sede",
    "text": "4.2 Paises con sede\nA lo largo de la competición, los partidos se van jugando en los propios estadios de los equipos que compiten, esto es así hasta la final, donde la UEFA elige una sede neutral para disputar la final. En este mapa os mostramos qué países han albergado al menos una final de la Champions a lo largo de la historia.\n\nCódigolibrary(tidyverse) \nlibrary(plotly)    \n\nruta_a_datos_2 &lt;- \"./datos/ucl-finals.csv\"\n\ndf_completo &lt;- read.csv(ruta_a_datos_2)\n\ndf_final &lt;- df_completo %&gt;% \n  rename(Pais = final.country, Espectadores = attendance, \n         Estadio = stadium) %&gt;% \n  mutate(Espectadores = as.numeric(Espectadores)) %&gt;% \n  group_by(Pais) %&gt;% \n  arrange(desc(Espectadores)) %&gt;% \n  slice(1) %&gt;% \n  ungroup() %&gt;% \n  select(Estadio, Pais, Espectadores)\n\n#Para realizar este mapa iteractivo , nos hemos apoyado en el siguiente trabajo : \n# \" https://ricardofreirev.github.io/trabajo_BigData_equipo/my_trabajo_BigData.html \"\n\n\ndatos_mapa &lt;- df_final %&gt;%\n  mutate(color_fijo = 1) %&gt;% \n  mutate(Pais_Mapa = case_when(\n    Pais %in% c(\"England\", \"Scotland\", \"Wales\") ~ \"United Kingdom\",\n    Pais == \"West Germany\" ~ \"Germany\",\n    Pais == \"Soviet Union\" ~ \"Russia\",\n    Pais == \"Yugoslavia\" ~ \"Serbia\",\n    TRUE ~ Pais)) \n\nmap_plot &lt;- plot_geo(data = datos_mapa,\n                     locations = ~Pais_Mapa,\n                     z = ~Espectadores, \n                     text = ~paste(\n                       \"&lt;b&gt;País:&lt;/b&gt;\", Pais, \"&lt;br&gt;\",\n                       \"&lt;b&gt;Estadio:&lt;/b&gt;\", Estadio, \"&lt;br&gt;\",\n                       \"&lt;b&gt;Espectadores:&lt;/b&gt;\", format(Espectadores, big.mark=\".\")),\n                     colors = \"Blues\") %&gt;%\n  add_trace(z = ~color_fijo,\n            locations = ~Pais_Mapa,\n            type = \"choropleth\",\n            locationmode = \"country names\",\n            colorscale = \"Blues\",\n            marker = list(line = list(color = \"white\", width = 0.5)), \n            showscale = FALSE) %&gt;%\n  layout(title = \"Sedes de Finales de Champions (Estadio y Asistencia)\",\n         geo = list( showframe = FALSE,\n                    projection = list(type = \"mercator\"),\n                    showland = TRUE,\n                    landcolor = \"lightgray\",\n                    countrycolor = \"white\"),\n         height = 600 ) %&gt;%\n  config(displayModeBar = FALSE)   \n\n\nmap_plot"
  },
  {
    "objectID": "my_trabajo_BigData.html#asistencia-en-finales",
    "href": "my_trabajo_BigData.html#asistencia-en-finales",
    "title": "La Champions League",
    "section": "5. Asistencia en Finales",
    "text": "5. Asistencia en Finales\nPara terminar con los datos, nos fijamos en los aficionados. La asistencia a las finales de Champions League ha variado mucho a lo largo de la historia. La línea de tiempo es irregular, pero esto nos ayuda a entender que la asistencia está directamente relacionada con la capacidad del estadio elegido cada año. Vemos picos históricos en sedes con capacidad para más de 100.000 espectadores, como Hampden Park en Escocia o el Santiago Bernabéu en Madrid. Lo que si podemos afirmar es que los estadios en esta fecha siempre se acaban llenando, confirmando el inmenso interés que genera esta final.\n\nCódigolibrary(tidyverse)\nlibrary(gganimate)\nlibrary(scales)\nlibrary(gifski)\n\nruta_a_datos_2 &lt;- \"./datos/ucl-finals.csv\"\n\ndf_completo &lt;- read_csv(ruta_a_datos_2)\n\nvariacion_asistencia &lt;- df_completo %&gt;% \n  rename(Año = season, Asistencia = attendance ) %&gt;% \n  mutate(Asistencia = as.numeric(Asistencia)) %&gt;% \n  mutate(Año = parse_number(Año) + 1) %&gt;% \n  select(Año, Asistencia) %&gt;% \n  drop_na()\n\nanimacion_asistencia &lt;- ggplot(variacion_asistencia, aes(x = Año, y = Asistencia)) +\n  \n  \n  geom_line(color = \"royalblue\", size = 1.2) +\n  geom_point(color = \"red\", size = 4) + \n  \n  \n  scale_y_continuous(\n    labels = scales::label_comma(), \n    breaks = seq(0, 140000, 20000), \n    limits = c(0, 140000)) +\n  \n  labs(\n    title = \"Evolución de la Asistencia en Finales\",\n    x = \"Temporada\",\n    y = \"Espectadores\") +\n  theme_minimal() +\n  theme(\n    plot.title = element_text(face = \"bold\", size = 20),\n    panel.grid.minor = element_blank()) +\n  transition_reveal(Año) \n\n animate(animacion_asistencia, renderer = gifski_renderer())"
  },
  {
    "objectID": "my_trabajo_BigData.html#conclusiones",
    "href": "my_trabajo_BigData.html#conclusiones",
    "title": "La Champions League",
    "section": "6. CONCLUSIONES",
    "text": "6. CONCLUSIONES\nPara finalizar , dudamos mucho que alguien de esta clase no conociera ya la existencia de la competición de clubes más prestigiosa de Europa, pero si este fuera el caso, esperamos que nuestro trabajo les haya servido para aprender un poco más sobre esta gran competición. Muchísimas gracias por su atención y esperamos que les haya gustado.\n\n\n current session info \n\n─ Session info ───────────────────────────────────────────────────────────────\n setting  value\n version  R version 4.5.1 (2025-06-13 ucrt)\n os       Windows 11 x64 (build 26100)\n system   x86_64, mingw32\n ui       RTerm\n language (EN)\n collate  Spanish_Spain.utf8\n ctype    Spanish_Spain.utf8\n tz       Europe/Madrid\n date     2025-12-17\n pandoc   3.6.3 @ C:/Program Files/RStudio/resources/app/bin/quarto/bin/tools/ (via rmarkdown)\n quarto   NA @ C:\\\\Users\\\\adrib\\\\AppData\\\\Local\\\\Programs\\\\Quarto\\\\bin\\\\quarto.exe\n\n─ Packages ───────────────────────────────────────────────────────────────────\n package           * version    date (UTC) lib source\n assertthat          0.2.1      2019-03-21 [1] CRAN (R 4.5.1)\n backports           1.5.0      2024-05-23 [1] CRAN (R 4.5.0)\n base64enc           0.1-3      2015-07-28 [1] CRAN (R 4.5.0)\n bit                 4.6.0      2025-03-06 [1] CRAN (R 4.5.1)\n bit64               4.6.0-1    2025-01-16 [1] CRAN (R 4.5.1)\n broom               1.0.10     2025-09-13 [1] CRAN (R 4.5.1)\n cli                 3.6.5      2025-04-23 [1] CRAN (R 4.5.1)\n clipr               0.8.0      2022-02-22 [1] CRAN (R 4.5.1)\n commonmark          2.0.0      2025-07-07 [1] CRAN (R 4.5.1)\n crayon              1.5.3      2024-06-20 [1] CRAN (R 4.5.1)\n crosstalk           1.2.2      2025-08-26 [1] CRAN (R 4.5.1)\n curl                7.0.0      2025-08-19 [1] CRAN (R 4.5.1)\n data.table          1.17.8     2025-07-10 [1] CRAN (R 4.5.1)\n desc                1.4.3      2023-12-10 [1] CRAN (R 4.5.1)\n details             0.4.0      2025-02-09 [1] CRAN (R 4.5.2)\n digest              0.6.37     2024-08-19 [1] CRAN (R 4.5.1)\n dplyr             * 1.1.4      2023-11-17 [1] CRAN (R 4.5.1)\n evaluate            1.0.5      2025-08-27 [1] CRAN (R 4.5.1)\n farver              2.1.2      2024-05-13 [1] CRAN (R 4.5.1)\n fastmap             1.2.0      2024-05-15 [1] CRAN (R 4.5.1)\n fontBitstreamVera   0.1.1      2017-02-01 [1] CRAN (R 4.5.2)\n fontLiberation      0.1.0      2016-10-15 [1] CRAN (R 4.5.2)\n fontquiver          0.2.1      2017-02-01 [1] CRAN (R 4.5.2)\n forcats           * 1.0.0      2023-01-29 [1] CRAN (R 4.5.1)\n fs                  1.6.6      2025-04-12 [1] CRAN (R 4.5.1)\n gdtools             0.4.4      2025-10-06 [1] CRAN (R 4.5.2)\n generics            0.1.4      2025-05-09 [1] CRAN (R 4.5.1)\n gganimate         * 1.0.11     2025-09-04 [1] CRAN (R 4.5.1)\n ggfittext           0.10.2     2024-02-01 [1] CRAN (R 4.5.1)\n ggfun               0.2.0      2025-07-15 [1] CRAN (R 4.5.2)\n ggimage           * 0.3.4      2025-08-24 [1] CRAN (R 4.5.2)\n ggiraph             0.9.2      2025-10-07 [1] CRAN (R 4.5.2)\n ggplot2           * 4.0.0      2025-09-11 [1] CRAN (R 4.5.1)\n ggplotify           0.1.3      2025-09-20 [1] CRAN (R 4.5.2)\n ggrepel           * 0.9.6      2024-09-07 [1] CRAN (R 4.5.1)\n ggsoccer          * 0.2.0      2024-10-06 [1] CRAN (R 4.5.2)\n gifski            * 1.32.0-2   2025-03-18 [1] CRAN (R 4.5.2)\n glue                1.8.0      2024-09-30 [1] CRAN (R 4.5.1)\n gridGraphics        0.5-1      2020-12-13 [1] CRAN (R 4.5.1)\n gt                * 1.0.0      2025-04-05 [1] CRAN (R 4.5.1)\n gtable              0.3.6      2024-10-25 [1] CRAN (R 4.5.1)\n highcharter       * 0.9.4      2022-01-03 [1] CRAN (R 4.5.2)\n hms                 1.1.3      2023-03-21 [1] CRAN (R 4.5.1)\n htmltools           0.5.8.1    2024-04-04 [1] CRAN (R 4.5.1)\n htmlwidgets         1.6.4      2023-12-06 [1] CRAN (R 4.5.1)\n httr                1.4.7      2023-08-15 [1] CRAN (R 4.5.1)\n igraph              2.1.4      2025-01-23 [1] CRAN (R 4.5.1)\n janitor           * 2.2.1      2024-12-22 [1] CRAN (R 4.5.1)\n jsonlite            2.0.0      2025-03-27 [1] CRAN (R 4.5.1)\n knitr               1.50       2025-03-16 [1] CRAN (R 4.5.1)\n labeling            0.4.3      2023-08-29 [1] CRAN (R 4.5.0)\n lattice             0.22-7     2025-04-02 [2] CRAN (R 4.5.1)\n lazyeval            0.2.2      2019-03-15 [1] CRAN (R 4.5.1)\n lifecycle           1.0.4      2023-11-07 [1] CRAN (R 4.5.1)\n litedown            0.7        2025-04-08 [1] CRAN (R 4.5.1)\n lubridate         * 1.9.4      2024-12-08 [1] CRAN (R 4.5.1)\n magick            * 2.9.0      2025-09-08 [1] CRAN (R 4.5.1)\n magrittr            2.0.4      2025-09-12 [1] CRAN (R 4.5.1)\n markdown            2.0        2025-03-23 [1] CRAN (R 4.5.1)\n pillar              1.11.1     2025-09-17 [1] CRAN (R 4.5.1)\n pkgconfig           2.0.3      2019-09-22 [1] CRAN (R 4.5.1)\n plotly            * 4.11.0     2025-06-19 [1] CRAN (R 4.5.1)\n png                 0.1-8      2022-11-29 [1] CRAN (R 4.5.2)\n prettyunits         1.2.0      2023-09-24 [1] CRAN (R 4.5.1)\n progress            1.2.3      2023-12-06 [1] CRAN (R 4.5.1)\n purrr             * 1.1.0      2025-07-10 [1] CRAN (R 4.5.1)\n quantmod            0.4.28     2025-06-19 [1] CRAN (R 4.5.1)\n R6                  2.6.1      2025-02-15 [1] CRAN (R 4.5.1)\n rappdirs            0.3.3      2021-01-31 [1] CRAN (R 4.5.1)\n RColorBrewer        1.1-3      2022-04-03 [1] CRAN (R 4.5.0)\n Rcpp                1.1.0      2025-07-02 [1] CRAN (R 4.5.1)\n reactable           0.4.4.9001 2025-09-23 [1] Github (glin/reactable@93ef7e7)\n reactR              0.6.1      2024-09-14 [1] CRAN (R 4.5.1)\n readr             * 2.1.5      2024-01-10 [1] CRAN (R 4.5.1)\n rlang               1.1.6      2025-04-11 [1] CRAN (R 4.5.1)\n rlist               0.4.6.2    2021-09-03 [1] CRAN (R 4.5.2)\n rmarkdown           2.29       2024-11-04 [1] CRAN (R 4.5.1)\n rstudioapi          0.17.1     2024-10-22 [1] CRAN (R 4.5.1)\n S7                  0.2.0      2024-11-07 [1] CRAN (R 4.5.1)\n sass                0.4.10     2025-04-11 [1] CRAN (R 4.5.1)\n scales            * 1.4.0      2025-04-24 [1] CRAN (R 4.5.1)\n sessioninfo         1.2.3      2025-02-05 [1] CRAN (R 4.5.1)\n snakecase           0.11.1     2023-08-27 [1] CRAN (R 4.5.1)\n stringi             1.8.7      2025-03-27 [1] CRAN (R 4.5.0)\n stringr           * 1.5.2      2025-09-08 [1] CRAN (R 4.5.1)\n systemfonts         1.3.1      2025-10-01 [1] CRAN (R 4.5.2)\n tibble            * 3.3.0      2025-06-08 [1] CRAN (R 4.5.1)\n tidyr             * 1.3.1      2024-01-24 [1] CRAN (R 4.5.1)\n tidyselect          1.2.1      2024-03-11 [1] CRAN (R 4.5.1)\n tidyverse         * 2.0.0      2023-02-22 [1] CRAN (R 4.5.1)\n timechange          0.3.0      2024-01-18 [1] CRAN (R 4.5.1)\n treemapify        * 2.5.6      2023-09-30 [1] CRAN (R 4.5.2)\n TTR                 0.24.4     2023-11-28 [1] CRAN (R 4.5.1)\n tweenr              2.0.3      2024-02-26 [1] CRAN (R 4.5.1)\n tzdb                0.5.0      2025-03-15 [1] CRAN (R 4.5.1)\n vctrs               0.6.5      2023-12-01 [1] CRAN (R 4.5.1)\n viridisLite         0.4.2      2023-05-02 [1] CRAN (R 4.5.1)\n vroom               1.6.6      2025-09-19 [1] CRAN (R 4.5.1)\n withr               3.0.2      2024-10-28 [1] CRAN (R 4.5.1)\n xfun                0.53       2025-08-19 [1] CRAN (R 4.5.1)\n xml2                1.4.0      2025-08-20 [1] CRAN (R 4.5.1)\n xts                 0.14.1     2024-10-15 [1] CRAN (R 4.5.1)\n yaml                2.3.10     2024-07-26 [1] CRAN (R 4.5.0)\n yulab.utils         0.2.2      2025-12-01 [1] CRAN (R 4.5.1)\n zoo                 1.8-14     2025-04-10 [1] CRAN (R 4.5.1)\n\n [1] C:/Users/adrib/AppData/Local/R/win-library/4.5\n [2] C:/Program Files/R/R-4.5.1/library\n * ── Packages attached to the search path.\n\n──────────────────────────────────────────────────────────────────────────────"
  },
  {
    "objectID": "my_slides_BigData.html#introducción",
    "href": "my_slides_BigData.html#introducción",
    "title": "La Champions League",
    "section": "INTRODUCCIÓN",
    "text": "INTRODUCCIÓN\nLa UEFA Champions League es la competición de clubes de fútbol más prestigiosa de Europa, organizada cada año por la UEFA para determinar cuál es el mejor equipo del continente. En este torneo participan los campeones de liga y los equipos mejor clasificados de las ligas europeas más fuertes. La competición se desarrolla a lo largo de una temporada, comenzando con una fase de grupos y acabando con rondas de eliminación directa, hasta llegar a la gran final a partido único, donde el ganador levanta el codiciado trofeo de “la orejona”, consolidando su lugar en la historia del fútbol.\nA continuación, os vamos a dar un repaso de los datos más importantes de la historia de la Champions League. Dentro del trabajo hablaremos sobre las características más importantes tanto de jugadores, de equipos, de entrenadores como de estadios. Esperamos que lo disfrutéis, y que aquellos que no sepáis tanto de este tema, aprendáis un poco más."
  },
  {
    "objectID": "my_slides_BigData.html#datos",
    "href": "my_slides_BigData.html#datos",
    "title": "La Champions League",
    "section": "DATOS",
    "text": "DATOS\nPara realizar el trabajo, hemos sacado los datos de la pagina webb Kaggle, una web la cual contiene millones de datos, y entre ellos, de la Champions League. Os dejamos por aqui el enlace"
  },
  {
    "objectID": "my_slides_BigData.html#equipos",
    "href": "my_slides_BigData.html#equipos",
    "title": "La Champions League",
    "section": "1. EQUIPOS",
    "text": "1. EQUIPOS"
  },
  {
    "objectID": "my_slides_BigData.html#equipos-con-mas-temporadas",
    "href": "my_slides_BigData.html#equipos-con-mas-temporadas",
    "title": "La Champions League",
    "section": "1.1 Equipos con mas temporadas",
    "text": "1.1 Equipos con mas temporadas\n\nCódigo\nlibrary(tidyverse)\nlibrary(ggimage) #install.packages(ggimage)\n\n\nruta_a_datos_1 &lt;- \"./datos/probando.csv\"\n\ndf_completo &lt;- read_csv(ruta_a_datos_1, locale = locale(encoding = \"ISO-8859-1\")) \n\ntop_15_participaciones &lt;- df_completo %&gt;%\n  select(Club, Participated) %&gt;% \n  mutate(Participated = as.numeric(Participated)) %&gt;% \n  arrange(desc(Participated)) %&gt;%\n  head(15)\n\ndf_logos &lt;- data.frame(Club = c(\n  \"Real Madrid CF\",\n  \"SL Benfica\",\n  \"FC Dynamo Kyiv\",\n  \"FC Bayern Munchen\",\n  \"AFC Ajax\",\n  \"Juventus\",\n  \"FC Porto\",\n  \"Celtic FC\",\n  \"Olympiacos FC\",\n  \"RSC Anderlecht\",\n  \"FC Barcelona\", \n  \"Rangers FC\",\n  \"Linfield FC\",\n  \"Manchester United\", \n  \"AC Milan\"\n),\nFoto = c(\n  \"Real_Madrid_CF.svg.webp\",\n  \"benfica.png\",\n  \"dynamo.png\",\n  \"bayern.png\", \n  \"ajax.png\",\n  \"juventus.png\",\n  \"oporto.png\",\n  \"celtic.png\",\n  \"olympiakos.png\",\n  \"anderlecht.png\",\n  \"barsa.png\",\n  \"rangers.png\",\n  \"Linfield.png\",\n  \"mtu.png\",\n  \"milan.png\"\n)\n) %&gt;%\n  mutate(logo = file.path(\"imagenes\", Foto))\n\n\n\ntop_15_completo &lt;- left_join(top_15_participaciones,df_logos, by = \"Club\") \n\n\n\nmi_grafico &lt;- ggplot(top_15_completo, aes(x = reorder(Club, Participated), y = Participated)) +\n  geom_col(fill = \"dodgerblue3\", width = 0.6) +\n  coord_flip() +\n geom_image(aes(image = logo, y = 0), size = 0.05) +\n  geom_text(aes(label = Participated), hjust = -0.2, fontface = \"bold\", size = 3.5) +\n   expand_limits(y = 0) + \n  labs(\n    title = \"Top 15: Equipos con más participaciones\",\n    subtitle = \"Desde 1955-2023\",\n    x = \"Equipos\", \n    y = \"Nº participaciones\") +\n  theme_minimal()+\n  theme(\n    plot.title = element_text(face = \"bold\", size = 14),\n    axis.text.y = element_blank(),\n    axis.ticks.y = element_blank(),\n    plot.margin = margin(10, 20, 10, 20))\n\nmi_grafico"
  },
  {
    "objectID": "my_slides_BigData.html#los-equipos-más-ganadores",
    "href": "my_slides_BigData.html#los-equipos-más-ganadores",
    "title": "La Champions League",
    "section": "1.2 Los equipos más ganadores",
    "text": "1.2 Los equipos más ganadores\n\nCódigo\nlibrary(treemapify)   #install.packages(\"treemapify\")\nlibrary(tidyverse)\nlibrary(janitor)\nlibrary(ggimage)\nlibrary(magick)\nlibrary(highcharter)  \n\n\nruta_a_datos_2 &lt;- \"./datos/probando.csv\"\n\ndf_completo &lt;- read_csv(ruta_a_datos_2)\n\ntop_10_titulos &lt;- df_completo %&gt;%\n  select(Club, Titles) %&gt;% \n  mutate(Titles = as.numeric(Titles)) %&gt;% \n  arrange(desc(Titles)) %&gt;%\n  head(10)\n\n\n\n\nhchart(top_10_titulos, \"treemap\", hcaes(x = Club, value =Titles, color = Titles))%&gt;%\n  hc_add_theme(hc_theme_economist()) %&gt;% \n  hc_size(height = 500)\n\n\n\n\nCódigo\n\nmadrid &lt;- image_read(\"./imagenes/madridchamp.jpg\") %&gt;% image_scale(.,\"700\")\nbarsa &lt;- image_read(\"./imagenes/barsachamp.jpg\") %&gt;% image_scale(.,\"700\")\nbayern &lt;- image_read(\"./imagenes/bayernchamp.jpg\") %&gt;% image_scale(.,\"700\")\njuve &lt;- image_read(\"./imagenes/juvechamp.jpg\") %&gt;% image_scale(.,\"700\")\nmtu &lt;- image_read(\"./imagenes/mtuchamp.webp\") %&gt;% image_scale(.,\"700\")\nbenfica &lt;- image_read(\"./imagenes/benficachamp.webp\") %&gt;% image_scale(.,\"700\")\nliverpool &lt;- image_read(\"./imagenes/liverpoolchamp.jpeg\") %&gt;% image_scale(.,\"700\")\ninter &lt;- image_read(\"./imagenes/interchamp.jpeg\") %&gt;% image_scale(.,\"700\")\najax &lt;- image_read(\"./imagenes/ajaxchamp.webp\") %&gt;% image_scale(.,\"700\")\nmilan &lt;- image_read(\"./imagenes/milanchamp.jpg\") %&gt;% image_scale(.,\"700\")\n\nequipos &lt;- c(madrid, barsa, bayern, juve, mtu, benfica, liverpool, inter, ajax, milan)\nimage_animate(image_scale(equipos), fps = 0.5)"
  },
  {
    "objectID": "my_slides_BigData.html#jugadores",
    "href": "my_slides_BigData.html#jugadores",
    "title": "La Champions League",
    "section": "2. JUGADORES",
    "text": "2. JUGADORES"
  },
  {
    "objectID": "my_slides_BigData.html#máximos-goleadores",
    "href": "my_slides_BigData.html#máximos-goleadores",
    "title": "La Champions League",
    "section": "2.1 Máximos Goleadores",
    "text": "2.1 Máximos Goleadores\n\nCódigolibrary(tidyverse)\nlibrary(ggrepel)\n\n\nruta_a_datos_1 &lt;- \"./datos/goleadores.csv\"\n\nruta_a_datos_2 &lt;- \"./datos/participaciones.csv\"\n\n\ndf_completo_2 &lt;- read_csv(ruta_a_datos_2)\n\ndf_completo &lt;- read_csv(ruta_a_datos_1)\n\ndf_completo_3 &lt;- left_join(df_completo,df_completo_2, by = \"Player\")\n\ntop_10_goleadores &lt;- df_completo_3 %&gt;%\n  select(Goals, Player, Appearances) %&gt;% \n  mutate(Goals = as.numeric(Goals)) %&gt;% \n  mutate(Promedio = Goals / Appearances) %&gt;% \n  arrange(desc(Goals)) %&gt;%\n  head(10)\n\n\nggplot(top_10_goleadores, aes(x = Appearances, y = Goals)) +\n  geom_point(aes(color = Promedio), size = 5, alpha = 0.8) +\n  \n  geom_text_repel(aes(label = paste(Player, \"\\n(\", Goals, \" goles)\")), \n                  fontface = \"bold\", \n                  box.padding = 0.5,\n                  point.padding = 0.5,\n                  size = 3) + \n    scale_color_gradient(low = \"lightblue\", high = \"darkblue\") +\n  labs(\n    title = \"Top 10 Goleadores Históricos\",\n    subtitle = \"Goles vs Partidos Jugados\",\n    x = \"Partidos Jugados\",\n    y = \"Goles Totales\",\n    color = \"Promedio Gol/Partido\") +\n  theme_minimal() +\n  theme(\n    plot.title = element_text(face = \"bold\", size = 16),\n    legend.position = \"bottom\" )"
  },
  {
    "objectID": "my_slides_BigData.html#mejores-jugadores-en-finales",
    "href": "my_slides_BigData.html#mejores-jugadores-en-finales",
    "title": "La Champions League",
    "section": "2.2 Mejores Jugadores en finales",
    "text": "2.2 Mejores Jugadores en finales\n\nCódigo#install.packages(\"ggsoccer\")\nlibrary(tidyverse)\nlibrary(ggimage)\nlibrary(ggsoccer)\n\n\nmvps &lt;- \"./datos/entrenadores_mvps.csv\"\n\ndf_completo &lt;- read_csv(mvps)\n\n\ntop_11 &lt;- df_completo %&gt;%\n  select(club, mvp, position) %&gt;% \n  filter(position == \"winner\") %&gt;% \n  count(mvp, sort = TRUE, name = \"titulos\")\n\n\n\n  once_final &lt;- c(\n    \"Thibaut Courtois\",\n    \"Paolo Maldini\",\n    \"Frank Rijkaard\",\n    \"Virgil van Dijk\",\n    \"Sergio Ramos\",\n    \"Xavi\",\n    \"Franz Roth\",\n    \"Johan Cruyff\",\n    \"Paco Gento\",\n    \"Alfredo Di Stefano\",\n    \"Lionel Messi\")\n\n\n  coordenadas_433 &lt;- tibble(\n    orden_posiciones = 1:11,\n    posiciones = c(\"GK\", \"LB\", \"CB\", \"CB\", \"RB\", \"LCM\", \n                   \"CM\", \"RCM\", \"LW\", \"ST\", \"RW\"),\n    \n    x = c(5,  25, 20, 20, 25,  50, 45, 50,  75, 88, 75), \n  \n    y = c(50, 15, 35, 65, 85,  25, 50, 75,  20, 50, 80))\n  \n  \n  equipo_mvp &lt;- data.frame(\n    mvp = once_final,\n    orden_posiciones = 1:11\n  ) %&gt;%\n    left_join(coordenadas_433, by = \"orden_posiciones\")\n  \n\n  conteo_mvps &lt;- df_completo %&gt;%\n    filter(position == \"winner\") %&gt;% \n    count(mvp, name = \"titulos\")\n  \n  datos_grafico &lt;- equipo_mvp %&gt;%\n    left_join(conteo_mvps, by = \"mvp\") %&gt;% \n    mutate(nombres_jugadores = case_when(\n      mvp == \"Thibaut Courtois\"   ~ \"curtu.jpg\",       \n      mvp == \"Paolo Maldini\"      ~ \"maldini.jpg\",   \n      mvp == \"Frank Rijkaard\"     ~ \"rijkaard.jpg\",\n      mvp == \"Virgil van Dijk\"    ~ \"van dijk.webp\",\n      mvp == \"Sergio Ramos\"       ~ \"ramos.webp\",\n      mvp == \"Xavi\"               ~ \"xavi.jpg\",\n      mvp == \"Franz Roth\"         ~ \"roth.webp\",\n      mvp == \"Johan Cruyff\"       ~ \"cruyff.jpg\",\n      mvp == \"Paco Gento\"         ~ \"gento.jpg\",\n      mvp == \"Alfredo Di Stefano\" ~ \"di stefano.jpg\",\n      mvp == \"Lionel Messi\"       ~ \"messi.jpg\")) %&gt;% \n    mutate(ruta_imagen = paste0(\"./imagenes/\", nombres_jugadores))\n  \n  # 5. DIBUJAR\n  ggplot(datos_grafico) +\n    annotate_pitch(\n      dimensions = pitch_statsperform, \n      fill = \"green\", \n      colour = \"white\"\n    ) +\n    theme_pitch() +\n    coord_flip() + \n    geom_image(aes(x = x, y = y, image = ruta_imagen), size = 0.08) +\n    \n    \n    geom_label(\n      aes(x = x, y = y, label = paste(mvp, \"\\n\", titulos, \"\")), \n      vjust = 1.5, \n      size = 3, \n      fontface = \"bold\",\n      alpha = 0.9) +\n    labs(title = \"11 MVP's de finales de Champions League\")"
  },
  {
    "objectID": "my_slides_BigData.html#entrenadores",
    "href": "my_slides_BigData.html#entrenadores",
    "title": "La Champions League",
    "section": "3. ENTRENADORES",
    "text": "3. ENTRENADORES\n\nCódigolibrary(tidyverse)\nlibrary(gt)\n\nucl_finals &lt;- \"./datos/ucl-soccer-1955-2019.csv\"\n\nucl_finals &lt;- read_csv(ucl_finals)\n\ntabla_entrenadores &lt;- ucl_finals %&gt;%\n  group_by(coach) %&gt;%\n  summarise(\n    Finales = n(),\n    Victorias = sum(position == \"winner\"), \n    Derrotas = sum(position == \"runner up\"))%&gt;%\n  ungroup() %&gt;%\n  arrange(desc(Finales), desc(Victorias)) %&gt;%\n  filter(coach != \"unknown\")\n\n\n\ntabla_final&lt;- tabla_entrenadores %&gt;%\n  gt() %&gt;%\n  opt_interactive(use_search = TRUE,\n                  use_filters = TRUE,\n                  use_resizers = FALSE,\n                  use_compact_mode = FALSE,\n                  use_page_size_select = FALSE) %&gt;%\n  tab_header(\n    title = md(\"Entrenadores finalistas de champions\"),\n    subtitle = md(\"Análisis de los entrenadores finalistas (1955/56 - 2023/2024\")) %&gt;%\n  opt_align_table_header(align = \"left\") %&gt;%\n  cols_label(\n    coach = md(\"**Entrenador**\"),\n    Finales = md(\"**Total Finales**\"),\n    Victorias = md(\"**Victorias**\"),\n    Derrotas = md(\"**Derrotas**\")) %&gt;%\n  cols_align(\n    align = \"center\",\n    columns = c(Finales, Victorias, Derrotas)) %&gt;%\n  fmt_number(\n    columns = c(Finales, Victorias, Derrotas),\n    decimals = 0) %&gt;%\n  tab_style(\n    style = cell_fill(color = \"indianred\"), \n    locations = cells_body(\n      columns = Derrotas, \n      rows = Derrotas &gt; 0)) %&gt;%\n  tab_style(\n    style = cell_fill(color = \"lightblue\"),\n    locations = cells_body(\n      columns = Victorias,\n      rows = Victorias &gt; 0)) %&gt;%\n  opt_row_striping() %&gt;%\n  tab_options(\n    heading.background.color = \"blue\",\n    column_labels.border.bottom.color = \"black\", \n    table_body.border.bottom.color = \"black\",\n    table_body.hlines.color = \"white\"\n  ) %&gt;%\n  tab_source_note(md(\"Fuente: Datos obtenidos de **Kaggle** ( https://www.kaggle.com )\")) %&gt;% \n  tab_source_note(md(\"El color de las celdas indican las Victorias (azul) o las Derrotas (rojo).\")) \n\n\n\ntabla_final\n\n\n\n\nEntrenadores finalistas de champions\nAnálisis de los entrenadores finalistas (1955/56 - 2023/2024\n\n\n\n\n\nFuente: Datos obtenidos de Kaggle ( https://www.kaggle.com )\nEl color de las celdas indican las Victorias (azul) o las Derrotas (rojo)."
  },
  {
    "objectID": "my_slides_BigData.html#paises",
    "href": "my_slides_BigData.html#paises",
    "title": "La Champions League",
    "section": "4. PAISES",
    "text": "4. PAISES"
  },
  {
    "objectID": "my_slides_BigData.html#paises-ganadores",
    "href": "my_slides_BigData.html#paises-ganadores",
    "title": "La Champions League",
    "section": "4.1 Paises ganadores",
    "text": "4.1 Paises ganadores\n\nCódigolibrary(tidyverse)\nlibrary(highcharter)  #install.packages(\"highcharter\")\n\nucl_finals &lt;- \"./datos/ucl-finals.csv\"\n\ndf &lt;- read_csv(ucl_finals)\n  \n\ntop_5_paises &lt;- df %&gt;%\n  rename(Paises = `winner-country` ) %&gt;% \n  mutate(Paises = str_replace(Paises,\n                                      \"West Germany\", \"Germany\")) %&gt;%\n  count(Paises) %&gt;%\n  arrange(desc(n)) %&gt;%\n  head(5)\n\n\nhchart(top_5_paises, \"pie\", hcaes(x = Paises, y = n)) %&gt;%\n  hc_add_theme(hc_theme_economist()) %&gt;% \n  hc_size(height = 500)"
  },
  {
    "objectID": "my_slides_BigData.html#paises-con-sede",
    "href": "my_slides_BigData.html#paises-con-sede",
    "title": "La Champions League",
    "section": "4.2 Paises con sede",
    "text": "4.2 Paises con sede\n\nCódigo\nlibrary(tidyverse) \nlibrary(plotly)    \n\nruta_a_datos_2 &lt;- \"./datos/ucl-finals.csv\"\n\ndf_completo &lt;- read.csv(ruta_a_datos_2)\n\ndf_final &lt;- df_completo %&gt;% \n  rename(Pais = final.country, Espectadores = attendance, \n         Estadio = stadium) %&gt;% \n  mutate(Espectadores = as.numeric(Espectadores)) %&gt;% \n  group_by(Pais) %&gt;% \n  arrange(desc(Espectadores)) %&gt;% \n  slice(1) %&gt;% \n  ungroup() %&gt;% \n  select(Estadio, Pais, Espectadores)\n\n#Para realizar este mapa iteractivo , nos hemos apoyado en el siguiente trabajo : \n# \" https://ricardofreirev.github.io/trabajo_BigData_equipo/my_trabajo_BigData.html \"\n\n\ndatos_mapa &lt;- df_final %&gt;%\n  mutate(color_fijo = 1) %&gt;% \n  mutate(Pais_Mapa = case_when(\n    Pais %in% c(\"England\", \"Scotland\", \"Wales\") ~ \"United Kingdom\",\n    Pais == \"West Germany\" ~ \"Germany\",\n    Pais == \"Soviet Union\" ~ \"Russia\",\n    Pais == \"Yugoslavia\" ~ \"Serbia\",\n    TRUE ~ Pais)) \n\nmap_plot &lt;- plot_geo(data = datos_mapa,\n                     locations = ~Pais_Mapa,\n                     z = ~Espectadores, \n                     text = ~paste(\n                       \"&lt;b&gt;País:&lt;/b&gt;\", Pais, \"&lt;br&gt;\",\n                       \"&lt;b&gt;Estadio:&lt;/b&gt;\", Estadio, \"&lt;br&gt;\",\n                       \"&lt;b&gt;Espectadores:&lt;/b&gt;\", format(Espectadores, big.mark=\".\")),\n                     colors = \"Blues\") %&gt;%\n  add_trace(z = ~color_fijo,\n            locations = ~Pais_Mapa,\n            type = \"choropleth\",\n            locationmode = \"country names\",\n            colorscale = \"Blues\",\n            marker = list(line = list(color = \"white\", width = 0.5)), \n            showscale = FALSE) %&gt;%\n  layout(title = \"Sedes de Finales de Champions (Estadio y Asistencia)\",\n         geo = list( showframe = FALSE,\n                    projection = list(type = \"mercator\"),\n                    showland = TRUE,\n                    landcolor = \"lightgray\",\n                    countrycolor = \"white\"),\n         height = 600 ) %&gt;%\n  config(displayModeBar = FALSE)   \n\n\nmap_plot"
  },
  {
    "objectID": "my_slides_BigData.html#asistencia-en-finales",
    "href": "my_slides_BigData.html#asistencia-en-finales",
    "title": "La Champions League",
    "section": "5. Asistencia en Finales",
    "text": "5. Asistencia en Finales\n\nCódigo\nlibrary(tidyverse)\nlibrary(gganimate)\nlibrary(scales)\nlibrary(gifski)\n\nruta_a_datos_2 &lt;- \"./datos/ucl-finals.csv\"\n\ndf_completo &lt;- read_csv(ruta_a_datos_2)\n\nvariacion_asistencia &lt;- df_completo %&gt;% \n  rename(Año = season, Asistencia = attendance ) %&gt;% \n  mutate(Asistencia = as.numeric(Asistencia)) %&gt;% \n  mutate(Año = parse_number(Año) + 1) %&gt;% \n  select(Año, Asistencia) %&gt;% \n  drop_na()\n\nanimacion_asistencia &lt;- ggplot(variacion_asistencia, aes(x = Año, y = Asistencia)) +\n  \n  # LÍNEA Y PUNTO\n  geom_line(color = \"#1f77b4\", size = 1.2) +\n  geom_point(color = \"red\", size = 4) + \n  \n  \n  scale_y_continuous(\n    labels = scales::label_comma(), \n    breaks = seq(0, 140000, 20000), \n    limits = c(0, 140000)) +\n  \n  labs(\n    title = \"Evolución de la Asistencia en Finales\",\n    x = \"Temporada\",\n    y = \"Espectadores\") +\n  theme_minimal() +\n  theme(\n    plot.title = element_text(face = \"bold\", size = 20),\n    panel.grid.minor = element_blank()) +\n  transition_reveal(Año) \n\n animate(animacion_asistencia, renderer = gifski_renderer())"
  },
  {
    "objectID": "my_slides_BigData.html#conclusiones",
    "href": "my_slides_BigData.html#conclusiones",
    "title": "La Champions League",
    "section": "6. CONCLUSIONES",
    "text": "6. CONCLUSIONES\nEn conclusión, dudamos mucho que alguno/a no conociera ya la existencia de la competición de clubes más prestigiosa de Europa, pero si este fuera el caso, esperamos que nuestro trabajo les haya servido para aprender un poco más sobre esta gran competición. Muchísimas gracias por su atención y esperamos que les haya gustado."
  },
  {
    "objectID": "index.html",
    "href": "index.html",
    "title": "Champions League",
    "section": "",
    "text": "Buenas chic@s, somos Simon Casañ, Adrián Fernández y Carlos Hueso\nEsta web sirve para presentar el trabajo en equipo para la asignatura “Programación y manejo de datos en la era Del Big Data”, optativa de GECO en la Facultad de Economía de la Universitat de València.\nLa web de la asignatura está aquí y los trabajos de mis compañeros de curso puedes verlos aquí.\nNuestro trabajo lleva por título : “Champions League”. Hemos realizado este trabajo sobre la Champions League, para que podamos conocer todo aquello que no se ve a simple vista en los campos de fútbol de Europa.\nEl trabajo puede verse aquí, y las slides aquí.\n\n\nReutilizarCC BY 4.0"
  }
]